const data = {
  Routers: [
    {
      id: 1,
      name: "Router AC1200",
      price: "$85.000",
      desc: "Dual-band, 4 puertos LAN, ideal para hogares medianos",
      promo: "¡La mejor opción calidad/precio para hogares de tamaño medio!",
      img: "images/Productos/Router AC1200.png",
    },
    {
      id: 2,
      name: "Router AX3000",
      price: "$220.000",
      desc: "Wi-Fi 6, MU-MIMO, mejor rendimiento en múltiples dispositivos",
      promo: "¡Máxima velocidad WiFi 6 para casas con muchos dispositivos!",
      img: "images/Productos/Router AX3000.png",
    },
    {
      id: 3,
      name: "Router 4G LTE",
      price: "$140.000",
      desc: "Soporte SIM, ideal para zonas sin fibra o como backup",
      promo: "¡Conéctate desde cualquier parte! Funciona incluso sin fibra.",
      img: "images/Productos/Router AX3000Router 4G LTE.png",
    },
    {
      id: 4,
      name: "Router AC1900",
      price: "$120.000",
      desc: "Dual-band, 3 antenas externas, ideal para streaming HD y videojuegos.",
      promo: "¡Perfecto para streaming y gaming sin interrupciones!",
      img: "images/Productos/Router AC1900.png",
    },
    {
      id: 5,
      name: "Router AX1800",
      price: "$170.000",
      desc: "Wi-Fi 6, OFDMA, mejor cobertura y estabilidad en varios dispositivos.",
      promo: "¡Estabilidad WiFi 6 al mejor precio del mercado!",
      img: "images/Productos/Router AX1800.png",
    },
    {
      id: 6,
      name: "Router AC750",
      price: "$65.000",
      desc: "Doble banda, económico, ideal para apartamentos pequeños.",
      promo: "¡El router más económico y confiable para espacios pequeños!",
      img: "images/Productos/Router AC750.png",
    },
    {
      id: 7,
      name: "Router AC3000 Tri-Band",
      price: "$310.000",
      desc: "Tri-band, MU-MIMO, excelente rendimiento para hogares con muchos usuarios.",
      promo: "¡Tri-banda premium para hogares con alta demanda!",
      img: "images/Productos/Router AC3000 Tri-Band.png",
    },
    {
      id: 8,
      name: "Router Gaming AC5400",
      price: "$450.000",
      desc: "Diseñado para gamers, QoS avanzado, 8 antenas de alto rendimiento.",
      promo: "¡Domina el gaming online con el router más poderoso!",
      img: "images/Productos/Router Gaming AC5400.png",
    },
  ],

  Switches: [
    {
      id: 10,
      name: "Switch 8 puertos Gigabit",
      price: "$120.000",
      desc: "Plug & play, montaje en escritorio",
      promo: "Ideal para ampliar redes pequeñas sin complicaciones.",
      img: "images/Productos/Switch 8 puertos Gigabit.png",
    },
    {
      id: 11,
      name: "Switch PoE 24 puertos",
      price: "$680.000",
      desc: "Suministra energía a cámaras y puntos de acceso",
      promo: "¡Alimenta cámaras y APs sin adaptadores externos!",
      img: "images/Productos/Switch PoE 24 puertos.png",
    },
    {
      id: 12,
      name: "Switch administrable 48",
      price: "$1.300.000",
      desc: "VLAN, QoS y gestión por web/CLI",
      promo: "Control total de red para negocios y empresas.",
      img: "images/Productos/Switch administrable 48.jpg",
    },

    {
      id: 13,
      name: "Switch 5 Puertos Fast Ethernet",
      price: "$55.000",
      desc: "Ideal para oficinas pequeñas o extender tu red doméstica.",
      promo: "Perfecto para agregar más puertos sin gastar de más.",
      img: "images/Productos/Switch 5 Puertos Fast Ethernet.jpg",
    },
    {
      id: 14,
      name: "Switch Gigabit 16 Puertos",
      price: "$260.000",
      desc: "16 puertos gigabit para redes de mediano tamaño.",
      promo: "Excelente velocidad para pymes y oficinas modernas.",
      img: "images/Productos/Switch Gigabit 16 Puertos.jpg",
    },
    {
      id: 15,
      name: "Switch PoE+ 8 Puertos",
      price: "$380.000",
      desc: "Entrega energía y datos, compatible con cámaras y APs.",
      promo: "Alimenta hasta 8 dispositivos PoE+ sin fuentes externas.",
      img: "images/Productos/Switch PoE+ 8 Puertos.png",
    },
    {
      id: 16,
      name: "Switch Administrable L2 24 Puertos",
      price: "$540.000",
      desc: "Funciones avanzadas: VLAN, STP, QoS y monitoreo SNMP.",
      promo: "Un nivel profesional para redes exigentes.",
      img: "images/Productos/Switch Administrable L2 24 Puertos.jpg",
    },
    {
      id: 17,
      name: "Switch Industrial PoE",
      price: "$900.000",
      desc: "Carcasa metálica, resistente a temperaturas extremas.",
      promo: "Diseñado para fábricas, bodegas y exteriores.",
      img: "images/Productos/Switch Industrial PoE.png",
    },
  ],

  "Cámaras Inteligentes": [
    {
      id: 20,
      name: "Cámara IP 1080p",
      price: "$180.000",
      desc: "Visión nocturna, detección de movimiento, app móvil",
      promo: "Seguridad completa con visión nocturna real.",
      img: "images/Productos/Camera IP 1080P.jpg",
    },
    {
      id: 21,
      name: "Cámara 4K con IA",
      price: "$480.000",
      desc: "Reconocimiento facial y notificaciones inteligentes",
      promo: "¡IA avanzada que detecta personas y eventos!",
      img: "images/Productos/Cámara 4K con IA.jpg",
    },
    {
      id: 22,
      name: "Cámara Bullet PoE",
      price: "$260.000",
      desc: "Instalación exterior resistente al agua, visión nocturna y alimentación PoE.",
      promo: "Perfecta para exteriores: resistente y con visión nítida.",
      img: "images/Productos/Cámara Bullet PoE.jpg",
    },
    {
      id: 23,
      name: "Cámara Domo PTZ Full HD",
      price: "$350.000",
      desc: "Cámara domo motorizada con giro horizontal/vertical, zoom óptico y resolución Full HD.",
      promo:
        "¡Control total! Vigila cualquier ángulo con rotación PTZ automática.",
      img: "images/Productos/Cámara Domo PTZ FULL HD.png",
    },
    {
      id: 24,
      name: "Cámara WiFi Solar",
      price: "$350.000",
      desc: "Funciona con panel solar integrado, 100% inalámbrica.",
      promo: "¡Energía solar, sin cables y lista para exteriores!",
      img: "images/Productos/Cámara WiFi Solar.png",
    },
    {
      id: 25,
      name: "Cámara Interior Panorámica 360°",
      price: "$155.000",
      desc: "Vista panorámica completa, seguimiento automático y audio bidireccional.",
      promo:
        "Vigila toda la habitación con visión 360° y seguimiento inteligente.",
      img: "images/Productos/Cámara Interior Panorámica 360°.jpg",
    },
    {
      id: 26,
      name: "Cámara Hikvision Panorámica 360° + PTZ",
      price: "$690.000",
      desc: "Cámara profesional con vista panorámica 360°, zoom PTZ motorizado y análisis inteligente de video.",
      promo:
        "Cobertura profesional con 360° + PTZ: ideal para vigilancia avanzada.",
      img: "images/Productos/Cámara Hikvision Panorámica 360° + PTZ.jpg",
    },
    {
      id: 27,
      name: "Cámara PTZ Exterior 5MP",
      price: "$410.000",
      desc: "Zoom óptico 4X, rotación 355°, IP66 resistente a clima extremo.",
      promo: "¡Alta resolución y movimiento PTZ para exteriores exigentes!",
      img: "images/Productos/Cámara PTZ Exterior 5MP.png",
    },
  ],
};

const tabsEl = document.getElementById("tabs");
const productsEl = document.getElementById("products");
const categories = Object.keys(data);

// Crear pestañas dinámicamente
categories.forEach((cat, idx) => {
  const btn = document.createElement("button");
  btn.className = "tab";
  btn.setAttribute("role", "tab");
  btn.id = `tab-${idx}`;
  btn.setAttribute("aria-selected", idx === 0 ? "true" : "false");
  btn.textContent = cat;
  btn.addEventListener("click", () => selectTab(idx));
  tabsEl.appendChild(btn);
});

function selectTab(index) {
  const buttons = tabsEl.querySelectorAll(".tab");
  buttons.forEach((b, i) => {
    const selected = i === index;
    b.setAttribute("aria-selected", selected);
  });
  renderProducts(categories[index]);
}

function renderProducts(category) {
  const list = data[category] || [];
  productsEl.innerHTML = "";
  list.forEach((p) => {
    const card = document.createElement("article");
    card.className = "card";
    card.innerHTML = `
      <div class="thumb" onclick="ampliarImagen('${p.img}', '${p.name}')">
      <img src="${p.img}" alt="${p.name}">
      </div>

      <div class="name">${p.name}</div>
      <div class="desc">${p.desc}</div>
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px">
        <div class="price">${p.price}</div>
        <div class="actions">
          <button class="btn" onclick="addToCart(${p.id})">Agregar</button>
          <button class="btn secondary" onclick="verDetalles(${p.id})">Detalles</button>
        </div>
      </div>
    `;
    productsEl.appendChild(card);
  });
}

function addToCart(id) {
  const producto = findProductById(id);

console.log("Producto agregado:", producto);
  Swal.fire({
    icon: "success",
    title: "¡Agregado al carrito!",
    html: `<b>${producto.name}</b> fue añadido correctamente.`,
    timer: 1500,
    showConfirmButton: false,
    background: "#ffffff",
    iconColor: "#28a745"
  });

  console.log("Producto agregardo al carrito corectamente");
}



function verDetalles(id) {
  const producto = findProductById(id);
  if (!producto) return Swal.fire("Error", "Producto no encontrado", "error");

  Swal.fire({
    title: producto.name,
    html: `
      <img src="${producto.img}" style="width:250px; border-radius:10px; margin-bottom:20px">

      <p>${producto.desc}</p>

      <p><b>Precio:</b> ${producto.price}</p>

      <hr>

      <p style="font-size:18px; color:#ff7600;">
        <b>${producto.promo}</b>
      </p>
    `,
    showConfirmButton: true,
    confirmButtonText: "Cerrar",
    confirmButtonColor: "#007bff"
  });
}

function findProductById(id) {
  for (const cat of Object.values(data)) {
    const found = cat.find((x) => x.id === id);
    if (found) return found;
  }
  return null;
}

function ampliarImagen(src, alt) {
  const modalImg = document.getElementById("modalImage");
  modalImg.src = src;
  modalImg.alt = alt;

  const modal = new bootstrap.Modal(document.getElementById("imgModal"));
  modal.show();
}

// Inicializar con la primera pestaña
selectTab(0);
